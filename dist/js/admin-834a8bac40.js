!function(){"use strict";function t(t,a){for(var i=0;i<a.length;i++){var n=a[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(new(function(){function a(){!function(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),this.formClass=".js-ajax-form",this.form=!1}var i,n,o;return i=a,(n=[{key:"init",value:function(){var t=this;$("body").on("submit",t.formClass,(function(a){a.preventDefault(),t.form=$(this),t.submit()})),t.maybeSubmitOnLoad()}},{key:"submit",value:function(){this.loadingState();var t=this;$.ajax({type:"POST",url:this.form.attr("action"),data:{action:this.form.find('input[name="_action"]').val(),data:this.form.serialize()},success:function(a){t.success(a)},error:function(t){console.log("error"),console.log(t)}})}},{key:"success",value:function(t){var a=this.form.attr("data-refresh");void 0!==this.form.attr("data-refresh")&&$(a).html(t)}},{key:"loadingState",value:function(){var t=this.form.attr("data-refresh");void 0!==this.form.attr("data-refresh")&&$(t).html('<div class="loading"><i class="fas fa-sync fa-spin"></i></div>')}},{key:"maybeSubmitOnLoad",value:function(){$.each($(this.formClass),(function(){void 0!==$(this).attr("data-submit-on-load")&&$(this).submit()}))}}])&&t(i.prototype,n),o&&t(i,o),a}())).init(),console.log("admin-main")}();

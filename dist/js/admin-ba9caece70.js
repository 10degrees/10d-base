!function(){"use strict";var t=require("./_export"),a=require("./_array-methods")(5),i=!0;function n(t,a){for(var i=0;i<a.length;i++){var n=a[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}"find"in[]&&Array(1).find((function(){i=!1})),t(t.P+t.F*i,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")("find");var r=function(){function t(){!function(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}(this,t),this.formClass=".js-ajax-form",this.form=!1}var a,i,r;return a=t,(i=[{key:"init",value:function(){var t=this;$("body").on("submit",t.formClass,(function(a){a.preventDefault(),t.form=$(this),t.submit()})),t.maybeSubmitOnLoad()}},{key:"submit",value:function(){this.loadingState();var t=this;$.ajax({type:"POST",url:this.form.attr("action"),data:{action:this.form.find('input[name="_action"]').val(),data:this.form.serialize()},success:function(a){t.success(a)},error:function(t){console.log("error"),console.log(t)}})}},{key:"success",value:function(t){var a=this.form.attr("data-refresh");void 0!==this.form.attr("data-refresh")&&$(a).html(t)}},{key:"loadingState",value:function(){var t=this.form.attr("data-refresh");void 0!==this.form.attr("data-refresh")&&$(t).html('<div class="loading"><i class="fas fa-sync fa-spin"></i></div>')}},{key:"maybeSubmitOnLoad",value:function(){$.each($(this.formClass),(function(){void 0!==$(this).attr("data-submit-on-load")&&$(this).submit()}))}}])&&n(a.prototype,i),r&&n(a,r),t}();window.$=window.jQuery,(new r).init(),console.log("admin-main")}();
